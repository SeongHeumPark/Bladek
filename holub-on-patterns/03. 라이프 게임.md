# 03. 라이프 게임

## Description

- 관련 코드 추가
- p.230 ~ 252 까지 정리

## 관련 코드

- `Universe` 클래스

  ```java
  public class Universe extends JPanel {
  	private final Cell outermostCell;
  	private static final Universe theInstance = new Universe();

  	private static final int DEFAULT_GRID_SIZE = 8;
  	private static final int DEFAULT_CELL_SIZE = 8;

  	private Universe() {
      	outermostCell = new Neighborhood(
          	DEFAULT_GRID_SIZE, new Neighborhood(DEFAULT_GRID_SIZE, new Resident()));
      
      	// ...
      
      	addMouseListener(new MouseAdapter() {
          	@Override
          	public void mousePressed(MouseEvent e) {
              	// ...
              
              	outermostCell.userClicked(e.getPoints(), bounds);
              
              	// ...
          	}
      	})
      
      	Clock.instance().addClockListener(new Clock.Listener() {
          	@Override
          	public void tick() {
              	if (outermostCell.figureNextState(Cell.DUMMY, Cell.DUMMY, Cell.DUMMY, Cell.DUMMY,
                                                    Cell.DUMMY, Cell.DUMMY, Cell.DUMMY, Cell.DUMMY)) {
                  	if (outermostCell.transition()) {
                      	// ...
                  	}
  				}
          	}
      	});
  	}

  	public static Universe instance() {
      	return theInstance;
  	}

  	// ...
  }
  ```

- `Cell` 인터페이스

  ```java
  public interface Cell {
  	boolean figureNextState(/*Cell params*/);
  	// ...
  	boolean tansition();
  	// ...
  	void userClicked(Point here, Rectangle surface);
  	Cell create();
  	// ...

  	public static final Cell DUMMY = new Cell() {
      	// ...
  	};
  }
  ```

- `Resident` 클래스

  ```java
  public final calss Resident implements Cell {
  	// ...

  	@Override
  	private boolean figureNextState(/*Cell params*/) {
      	// ...
  	}

  	@Override
  	public boolean transition() {
      	// ...
  	}

  	// ...

  	@Override
  	public void userClicked(Point here, Rectangle surface) {
      	// ...
  	}

  	// ...

  	@Override
  	public Cell create() {
      	return new Resident();
  	}

  	// ...
  }
  ```

- `Neighborhood` 클래스

  ```java
  public final class Neighborhood implements Cell {
  	// ...

  	public Neighborhood(int gridSize, Cell prototype) {
      	this.gridSize = gridSize;
      	this.grid = enw Cell[gridSize][gridSize];
      
      	for (int row = 0; row < gridSize; ++row) {
          	for (int column = 0; column < gridSize; ++column) {
              	grid[row][column] = prototype.create();
          	}
      	}
  	}

  	@Override
  	public Cell create() {
      	return new Neighborhood(gridSize, grid[0][0]);
  	}

  	// ...

  	@Override
  	private boolean figureNextState(/*Cell params*/) {
      	// ...
      
      	for (int row = 0; row < gridSize; ++row) {
          	for (int column = 0; column < gridSize; ++column) {
              	// ...
              
              	if (grid[row][column].figureNextState(n, s, e, w, ne, nw, se, sw)) {
                  	// ...
              	}
              }
          }
  	}
    
  	@Override
  	public boolean transition() {
      	// ...
      
      	for (int row = 0; row < gridSize; ++row) {
          	for (int column = 0; column < gridSize; ++column) {
              	if (grid[row][column].transition()) {
                  	// ...
              	}
          	}
      	}
  	}

  	// ...

  	@Override
  	public void userClicked(Point here, Rectangle surface) {
      	// ...
      
      	grid[row][column].userClicked(position, subcell);
      
      	// ...
  	}
  }
  ```

## Mediator 디자인 패턴



## Prototype 디자인 패턴



## Composite 디자인 패턴



## Flyweight 디자인 패턴



## Flyweight 풀



## 정리



