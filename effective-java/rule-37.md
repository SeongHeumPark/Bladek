## 자료형을 정의할 때 표식 인터페이스를 사용하라

### 왜?

- 표식 어노테이션과 표식 인터페이스는 다르기 때문

### 표식 어노테이션 vs. 표식 인터페이스

- 자료형이냐 아니냐
  - __표식 어노테이션__은 자료형이 아님
  - __표식 인터페이스__는 자료형임 (형 안전성 검사 가능)
- 적용 범위가 (상대적) 세밀도 차이
  - __표식 어노테이션__은 어떤 클래스, 인터페이스든 적용 가능
  - __표식 인터페이스__는 특정 인터페이스에 적용 가능 (`extends`만 하면 하위 자료형이 됨)
- 정보 추가 가능 여부 (확장성?)
  - __표식 어노테이션__은 자료형을 쓰기 시작한 후로도 얼마든지 (더 큰 어노테이션 기능의 일부)
  - __표식 인터페이스__는 상대적으로 제한이 걸림 (1.8부터 `default` 키워드가 나와서 그나마...)

### 상황별 사용법

```Java
String marker = "";

if ("클래스나 인터페이스 이외의 요소에 적용되어야 하는가?") {
	marker = "anntation";
} else {
	if ("해당 표식이 붙은 객체를 인자로 받는 메서드를 만들 것인가?") {
    	marker = "interface";
	} else {
    	if ("특정 인터페이스 객체에만 적용할 예정인가?") {
        	marker = "interface";	// 하위
    	} else {
        	marker = "annotation";
    	}
	}
}
```

- 새로운 메서드가 없는 __자료형__ 정의는 __표식 인터페이스__
- 클래스나 인터페이스 이외의 프로그램 요소에 표식을 달아야 하고, 앞으로 더 많은 정보를 추가할 가능성이 있다면 __표식 어노테이션__

### 정리

- ` @Target(ElementType.TYPE)`이 적용된 표식 어노테이션 자료형을 작성하고 있다면,
  반드시 __어노테이션 자료형__이어야 하는지, __표식 인터페이스__여야하는지를 고민해보라.