## 05. 형식 맞추기

### 형식을 맞추는 목적

- 코드형식은 __투중요!!!__
- 코드형식은 __의사소통__

### 적절한 행 길이를 유지하라

- 신문 기사처럼 작성하라
  - 이름을 잘 짓자 (간단명료하고 의미 파악에 용이하도록)
  - 첫 부분은 __고차원 개념__, __알고리즘__ 설명

- 개념은 빈 행으로 분리하라

  - __줄바꿈 == 개념 분리__

- 세로 밀집도

  - __세로 밀집도 == 연관성__
  - 밀접한 코드는 가까이 배치

- 수직 거리

  - ​

  - 변수 선언

    - 사용하는 위치에 최대한 가까이 선언
    - 선언과 사용을 분리하는건 c, c++ 스타일?

  - 인스턴스 변수

    - 클래스 맨 처음에 선언

  - 종속 함수

    - 한 함수가 다른 함수를 호출할 때, 가까이 배치

  - 개념적 유사성

    ```java
    public class Assert {
    	static public void assertTrue(String message, boolean condition) {
        	// ...
    	}

    	static public void assertTrue(boolean condition) {
        	assertTrue(message, condition);
    	}

    	static public void assertFalse(String message, boolean condition) {
        	assertTrue(message, !condition);
    	}

    	static public void assertFalse(boolean condition) {
        	assertFalse(null, condition);
    	}
    }
    ```

    - 추가적으로 비슷한 동작을 하는 함수들을 가까이 배치

  - 세로 순서

    ```java
    public Response makeResponse(FitNEsseContext context, Request request) throws Exception {
    	String pageName = getPageNameOrDefault(request, "FrontPage");
    	// ...
    }

    private String getPageNameOrDefault(Request request, String defaultPageName) {
    	// ...
    }
    ```

    - __호출하는 함수 아래__에 __호출되는 함수__를 배치

### 가로 형식 맞추기

- 가로 공백과 밀집도

  - __개발 도구__가 없는 환경에서는 고려 대상
  - __개발 도구__ or __회사 내부 Convention__에 맞춤

- 가로 정렬

  ```java
  public class FitNesseExpediter implements ResponseSender {
  	private		Socket			socket;
  	private		InputStream		input;
  	private		OutputStream	output;
  	private		Request			request;
  	private		Response		response;
  	private		FitNesseContext	context;
  	protected	long			requestParsingTimeLimiting;
  	private		long			requestProgress;
  	private		long			requestParsingDeadline;
  	private		boolean			hasError;

  	public FitNesseExpediter(Socket				s,
                               FitNesseContext	context) throws Exception {
      	this.context =				context;
      	socket = 					s;
      	input = 					s.getInputStream;
      	output =					s.getOutputStream;
      	requestParsingTimeLimit =	10000;
      }
  }
  ```

  -  __결론,__ 하지 말자.

- 들여쓰기

  - 코드의 __계층을 표현__
  - 들여쓰기 무시하기 (하지 말 것)
    - 짧고 간단한 `if`, `for`, `while` 문이라도 __들여쓰기를 넣자__

- 가짜 범위

  - 빈 `while`, `for` 문은 가능한한 피하자

  ```java
  while (dis.read(buf, 0, readBufferSize) != -1)
  ;
  ```

  - … `;`을 개행으로 쓰는 것 자체가 이상한 것 아닌가?

### 팀 규칙

- 팀은 __한 가지 규칙에 합의__해야 한다
- 모든 팀원은 __합의된 규칙__을 따라야 한다

### 밥 아쩌시의 형식 규칙

- 저자가 사용하는 코드 규칙
- __intellij__ 개발 도구와 유사

### 정리

- __투중요!!!__
- 회사에서는 자체 convention을 따르는 것이 가장 좋을 것 같음

### 의문

- `XXXApis` 클래스에 있는 API 함수의 __파라미터__들은 __가로 형식 맞추기__에 맞게 하기 위해 어떤 방식이 나을까?
