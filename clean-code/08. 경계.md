## 경계

### 외부 코드 사용하기

- 책에서는 `Map` 인터페이스를 예로 들고 있음

  - `Map` 인터페이스는 __기능성과 유연성에서 유용__하지만 __그만큼 위험__함

  - `Map` 인터페이스 __자체를 전달하는 것은 지양__

  - `Map` 인터페이스를 __숨기고 필요한 기능만 제공하는 것을 지향__

    ```java
    public class Senseros {
    	private Map<String, Sensor> sensors = new HashMap<>();

    	public Sensor getById(String id) {
        	return sensor.get(id);
    	}
    }
    ```

### 경계 살피고 익히기

- __외부 코드__는 __학습 테스트__를 통해 익혀야 함

### log4j 익히기

- log4j 라이브러리 __학습 테스트__로 익힘

### 학습 테스트는 공짜 이상이다

- __고효율__ 투자
  - 투자 비용 X
  - __필요한 지식__만 쉽게 확보 가능
  - __학습 이해도__를 __높여주는 정확한 실험__
- 새 버전이 나온다면 __학습 테스트__를 돌려 차이가 있는지 확인
- 기존 __코드에 변경이 필요한지 체크 가능(호환성)__

### 아직 존재하지 않는 코드를 사용하기

- API가 제공에 시간이 걸릴 경우, __인터페이스__와 __Fake 객체__를 이용해 __미리 작업__


- __Adapter__ 패턴을 활용하여 실제 API를 __인터페이스__에 맞게 수정
### 깨끗한 경계

- 경계에 위치한 코드는 __깔끔히 분리__
- __기대치를 정의__하는 __테스트 케이스 작성__
- 외부 코드에 휘말리지 않는 코드 작성
  - 경계를 __감싸거나__ __Adapter__ 패턴 사용
  - __코드 가독성__은 높아지고 __변경 가능성__은 줄어듦

### 정리

- __경계를 잘 파악__하고 __완벽히 분리__할 수 있는 __코드를 생산__ 할 것
- __외부 코드(라이브러리, 오픈소스)__는 __학습 테스트__를 통해 익힐 것